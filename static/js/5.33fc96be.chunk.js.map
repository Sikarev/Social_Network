{"version":3,"sources":["hoc/withAuthRedirect.jsx","components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["withAuthRedirect","Component","RedirectComponent","this","props","isAuth","to","React","connect","state","auth","module","exports","DialogItem","path","id","className","s","dialog","activeClassName","active","name","Message","message","MessageReduxForm","reduxForm","form","onSubmit","handleSubmit","writingBlock","Field","placeholder","component","Textarea","validate","requiredField","Dialogs","dialogElements","dialogsData","map","messagesElements","messagesData","msg","dialogs","dialogsItems","messages","formData","sendMessage","compose","dialogsPage"],"mappings":"2NAKaA,EAAmB,SAACC,GAAe,IAEtCC,EAFqC,4JAGvC,WACI,OAAKC,KAAKC,MAAMC,OACT,cAACJ,EAAD,eAAeE,KAAKC,QADI,cAAC,IAAD,CAAUE,GAAG,eAJT,GAEXC,IAAMN,WAatC,OAF+BO,aAJE,SAACC,GAAD,MAAY,CACzCJ,OAAQI,EAAMC,KAAKL,UAGQG,CAAoCN,K,oBCjBvES,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,OAAS,wBAAwB,OAAS,wBAAwB,SAAW,0BAA0B,QAAU,yBAAyB,aAAe,gC,sHCa5OC,EAVI,SAACT,GAChB,IAAIU,EAAO,YAAcV,EAAMW,GAE/B,OACI,qBAAKC,UAAWC,IAAEC,OAAlB,SACI,cAAC,IAAD,CAASZ,GAAIQ,EAAMK,gBAAiBF,IAAEG,OAAtC,SAA+ChB,EAAMiB,UCAlDC,EANC,SAAClB,GACb,OACI,qBAAKY,UAAWC,IAAEM,QAAlB,SAA2B,+BAAOnB,EAAMmB,a,iCCY1CC,EAAmBC,YAAU,CAAEC,KAAM,eAAlBD,EATL,SAACrB,GACjB,OACI,uBAAMuB,SAAUvB,EAAMwB,aAAcZ,UAAWC,IAAEY,aAAjD,UACI,cAACC,EAAA,EAAD,CAAOC,YAAa,YAAaV,KAAM,UAAWW,UAAWC,IAAUC,SAAU,CAACC,OAClF,gDAsCGC,EA/BC,SAAChC,GACb,IAGIiC,EAAiBjC,EAAMkC,YAAYC,KAAI,SAAArB,GAAM,OAAI,cAAC,EAAD,CAAYG,KAAMH,EAAOG,KAAMN,GAAIG,EAAOH,QAC3FyB,EAAmBpC,EAAMqC,aAAaF,KAAI,SAAAG,GAAG,OAAI,cAAC,EAAD,CAASnB,QAASmB,EAAInB,QAASR,GAAI2B,EAAI3B,QAa5F,OACI,sBAAKC,UAAWC,IAAE0B,QAAlB,UACI,qBAAK3B,UAAWC,IAAE2B,aAAlB,SACKP,IAEL,sBAAKrB,UAAWC,IAAE4B,SAAlB,UACKL,EACD,cAAChB,EAAD,CAAkBG,SAxBb,SAACmB,GACd1C,EAAM2C,YAAYD,EAASvB,mBCRpByB,sBACXhD,IACAQ,aATkB,SAACC,GACnB,MAAO,CACH6B,YAAa7B,EAAMwC,YAAYX,YAC/BG,aAAchC,EAAMwC,YAAYR,gBAOhC,CACIM,kBAJGC,CAMbZ","file":"static/js/5.33fc96be.chunk.js","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router';\r\n\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to='/login' />\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    let mapStateToPropsForRedirect = (state) => ({\r\n        isAuth: state.auth.isAuth\r\n    })\r\n\r\n    let ConnectRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n    return ConnectRedirectComponent;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1rWBg\",\"dialogsItems\":\"Dialogs_dialogsItems__3MtH_\",\"dialog\":\"Dialogs_dialog__3FGmb\",\"active\":\"Dialogs_active__1kakZ\",\"messages\":\"Dialogs_messages__yLuIJ\",\"message\":\"Dialogs_message__2Vj15\",\"writingBlock\":\"Dialogs_writingBlock__1Cq7g\"};","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './../Dialogs.module.css';\r\n\r\nconst DialogItem = (props) => {\r\n    let path = \"/dialogs/\" + props.id;\r\n\r\n    return (\r\n        <div className={s.dialog}>\r\n            <NavLink to={path} activeClassName={s.active}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DialogItem;","import React from 'react';\r\nimport s from './../Dialogs.module.css';\r\n\r\nconst Message = (props) => {\r\n    return (\r\n        <div className={s.message}><span>{props.message}</span></div>\r\n    )\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\nimport DialogItem from './DialogItem/DialogItem';\r\nimport Message from './Message/Message';\r\nimport s from './Dialogs.module.css';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { Textarea } from '../commons/FromControls/FormControls';\r\nimport { requiredField } from '../../utilities/validators/validator';\r\n\r\nconst MessageForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={s.writingBlock}>\r\n            <Field placeholder={\"Type here\"} name={\"message\"} component={Textarea} validate={[requiredField]} />\r\n            <button>Send</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst MessageReduxForm = reduxForm({ form: 'sendMessage' })(MessageForm);\r\n\r\nconst Dialogs = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.sendMessage(formData.message);\r\n    }\r\n    let dialogElements = props.dialogsData.map(dialog => <DialogItem name={dialog.name} id={dialog.id} />);\r\n    let messagesElements = props.messagesData.map(msg => <Message message={msg.message} id={msg.id} />);\r\n\r\n    // let newMessage = React.createRef();\r\n\r\n    // let onMessageChange = () => {\r\n    //     let text = newMessage.current.value;\r\n    //     props.updateNewMessageText(text);\r\n    // }\r\n\r\n    // let sendMessage = () => {\r\n    //     props.sendMessage();\r\n    // }\r\n\r\n    return (\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialogsItems}>\r\n                {dialogElements}\r\n            </div>\r\n            <div className={s.messages}>\r\n                {messagesElements}\r\n                <MessageReduxForm onSubmit={onSubmit} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dialogs;","import { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { sendMessage } from '../../redux/reducer/dialogsReducer';\r\nimport Dialogs from './Dialogs';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogsData: state.dialogsPage.dialogsData,\r\n        messagesData: state.dialogsPage.messagesData\r\n    }\r\n};\r\n\r\nexport default compose(\r\n    withAuthRedirect,\r\n    connect(mapStateToProps,\r\n        {\r\n            sendMessage\r\n        })\r\n)(Dialogs)\r\n\r\n// export default DialogsContainer;"],"sourceRoot":""}